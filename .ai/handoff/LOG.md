# AAHP: Agent Journal

> **Append-only.** Never delete or edit past entries.
> Every agent session adds a new entry at the top.
> This file is the immutable history of decisions and work done.

---

## [2026-02-26] Claude Opus 4.6: Resolve Open Questions & Dogfood Protocol

**Agent:** Claude Opus 4.6
**Phase:** 3 (Implementer)
**Branch:** main

### What was done

- Resolved all 4 open questions from README.md Section 7
- Created `scripts/_aahp-lib.sh` (shared function library with portable SHA-256, mtime, token estimation)
- Created `scripts/aahp-manifest.sh` (standalone manifest generator with --agent, --phase, --context CLI options)
- Refactored `scripts/aahp-migrate-v2.sh` to source shared lib and delegate manifest generation
- Extended `scripts/lint-handoff.sh` with Check 6: parallel agent detection across git branches
- Replaced README.md Section 7 "Open Questions" with "Resolved Decisions"
- Bootstrapped `.ai/handoff/` for the AAHP project itself (dogfooding)

### Decisions made

- Q1: MANIFEST.json is auto-generated by outgoing agent + CLI tool
- Q2: Whole-file SHA-256 checksums (already implemented, doc-only update)
- Q3: Branch-based isolation for parallel agents, advisory lint warning
- Q4: Dependency graphs deferred to v3
- Extracted shared functions into `_aahp-lib.sh` instead of duplicating between scripts
- Used standalone `aahp-manifest.sh` rather than a unified `aahp.sh` CLI (keeps toolbox pattern)

---

## [2026-02-26] Claude Opus 4.6: Merge v2 Proposal into README

**Agent:** Claude Opus 4.6
**Phase:** 3 (Implementer)
**Branch:** main

### What was done

- Deleted `AAHP-v2-PROPOSAL.md` (content was identical to README.md)
- Updated `scripts/aahp-migrate-v2.sh` references from `AAHP-v2-PROPOSAL.md` to `README.md`
- Committed and pushed to GitHub (commit 672be62)

### Decisions made

- Single source of truth: README.md is the v2 specification document

---

## [2026-02-26] Previous: AAHP v2 Tooling Implementation

**Agent:** (prior session)
**Phase:** 3 (Implementer)
**Branch:** main

### What was done

- Created all 10 template files in `templates/`
- Created `scripts/aahp-migrate-v2.sh` (v1 to v2 migration)
- Created `scripts/lint-handoff.sh` (5 validation checks)
- Created `schema/aahp-manifest.schema.json` (JSON Schema Draft 2020-12)
- Created `AAHP-v2-PROPOSAL.md` with full v2 specification
- Set up MIT LICENSE, .gitignore

### Decisions made

- Bash-only tooling (no Node.js/Python dependency for core scripts)
- JSON Schema Draft 2020-12 for manifest validation
- Pre-commit hook pattern for safety linting
